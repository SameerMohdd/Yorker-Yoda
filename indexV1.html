<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yorker Yoda - PSL 2025 Match Predictor</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: white;
            padding: 20px;
            margin: 0;
            min-height: 100vh;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 2px solid #B27F35;
        }
        header {
            text-align: center;
            background: linear-gradient(to right, #2B6735, #B27F35);
            padding: 20px;
            border-radius: 10px;
            color: white;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
        }
        .header-content {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            position: relative;
            z-index: 2;
        }
        .cricket-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            opacity: 0.1;
        }
        .cricket-icons::before {
            content: 'üèè';
            position: absolute;
            font-size: 80px;
            left: 20px;
            top: 50%;
            transform: translateY(-50%) rotate(-45deg);
        }
        .cricket-icons::after {
            content: 'üèè';
            position: absolute;
            font-size: 80px;
            right: 20px;
            top: 50%;
            transform: translateY(-50%) rotate(45deg);
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .yoda-emoji {
            font-size: 60px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .yoda-emoji::before {
            content: 'üèè';
            font-size: 40px;
        }
        .yoda-emoji::after {
            content: 'üèè';
            font-size: 40px;
        }
        h1 {
            color: #fff;
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .tagline {
            color: #fff;
            font-style: italic;
            margin: 5px 0;
            opacity: 0.9;
            font-size: 1.2em;
        }
        .match-selector {
            margin: 20px 0;
            background: rgba(43, 103, 53, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #B27F35;
        }
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #B27F35;
            border-radius: 8px;
            font-size: 16px;
            margin-top: 8px;
            background: white;
            color: #2B6735;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        select:hover {
            border-color: #2B6735;
        }
        .predict-btn {
            background: linear-gradient(to right, #B27F35, #8c6428);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            cursor: pointer;
            position: relative;
            margin: 20px auto;
            display: block;
            transform: skew(-20deg);
            border-radius: 5px 50px 50px 5px;
            box-shadow: 3px 3px 6px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            width: 200px;
        }
        .predict-btn span {
            display: inline-block;
            transform: skew(20deg);
        }
        .predict-btn::after {
            content: '';
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            width: 15px;
            height: 80%;
            background: #8c6428;
            border-radius: 0 5px 5px 0;
        }
        .predict-btn:hover {
            transform: skew(-20deg) translateY(-2px);
            box-shadow: 4px 4px 8px rgba(0,0,0,0.3);
        }
        #match-details {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(43, 103, 53, 0.1), rgba(178, 127, 53, 0.1));
            border-radius: 12px;
            border: 1px solid #B27F35;
        }
        .team-logos {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
        }
        .team-logo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border: 3px solid #B27F35;
            transition: transform 0.3s ease;
            overflow: hidden;
            background: white;
            padding: 5px;
        }
        .team-logo img {
            width: 90%;
            height: 90%;
            object-fit: contain;
        }
        .team-logo:hover {
            transform: scale(1.05);
        }
        .loading-spinner {
            display: none;
            width: 50px;
            height: 50px;
            border: 5px solid #B27F35;
            border-top: 5px solid #2B6735;
            border-radius: 50%;
            margin: 20px auto;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .prediction-result {
            margin-top: 20px;
            padding: 25px;
            background: linear-gradient(135deg, rgba(43, 103, 53, 0.1), rgba(178, 127, 53, 0.1));
            border-radius: 12px;
            border-left: 5px solid #2B6735;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: none;
        }
        .quote {
            font-style: italic;
            text-align: center;
            color: #555;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255,255,255,0.8);
            border-radius: 8px;
            border: 1px solid #B27F35;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 1px solid #B27F35;
            transition: transform 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-2px);
        }
        .stat-card h4 {
            margin: 0 0 10px 0;
            color: #2B6735;
            border-bottom: 2px solid #B27F35;
            padding-bottom: 5px;
        }
        #weather-selector {
            background: linear-gradient(135deg, rgba(43, 103, 53, 0.1), rgba(178, 127, 53, 0.1));
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #B27F35;
            margin-top: 20px;
            text-align: center;
        }
        #weather {
            background: white;
            border: 2px solid #B27F35;
            padding: 10px;
            width: 200px;
            border-radius: 8px;
            margin: 10px 0;
            color: #2B6735;
        }
        label {
            color: #2B6735;
            font-weight: bold;
        }
</style>
</head>
<body>
    <div class="container">
        <header>
            <div class="cricket-icons"></div>
            <div class="header-content">
                <div class="logo">
                    <div class="yoda-emoji">üßô</div>
                </div>
                <div>
                    <h1>Yorker Yoda</h1>
                    <p class="tagline">PSL Match Predictor</p>
                </div>
            </div>
        </header>

        <div class="match-selector">
            <label for="match-select">Select Upcoming Match:</label>
            <select id="match-select">
                <option value="">-- Select a Match --</option>
            </select>
        </div>

        <div id="match-details" style="display: none;">
            <h3 id="match-title">Match Details</h3>
            <div class="team-logos">
                <div>
                    <div id="team1-logo" class="team-logo"></div>
                    <p id="team1-name" style="text-align: center; font-weight: bold;"></p>
                </div>
                <div style="font-weight: bold; font-size: 24px;">VS</div>
                <div>
                    <div id="team2-logo" class="team-logo"></div>
                    <p id="team2-name" style="text-align: center; font-weight: bold;"></p>
                </div>
            </div>
            <div style="margin-top: 20px;">
                <p><strong>Date:</strong> <span id="match-date"></span></p>
                <p><strong>Time:</strong> <span id="match-time"></span></p>
                <p><strong>Venue:</strong> <span id="match-venue"></span></p>
                <p><strong>Head to Head:</strong> <span id="head-to-head"></span></p>
            </div>
        </div>

        <div id="weather-selector" style="display: none;">
            <label for="weather">Select Weather Condition:</label><br>
            <select id="weather">
                <option value="Clear">Clear</option>
                <option value="Cloudy">Cloudy</option>
                <option value="Light Rain">Light Rain</option>
                <option value="Hot and Humid">Hot and Humid</option>
            </select>
            <br>
            <button id="predict-btn" class="predict-btn"><span>Predict</span></button>
        </div>

        <div id="loading" class="loading-spinner"></div>

        <div id="prediction-result" class="prediction-result">
            <div id="prediction-text"></div>
            <div id="yoda-quote" class="quote"></div>
            <div class="stats-grid">
                <div class="stat-card">
                    <h4>Win Probability</h4>
                    <div id="win-probability"></div>
                </div>
                <div class="stat-card">
                    <h4>Key Player</h4>
                    <div id="key-player"></div>
                </div>
                <div class="stat-card">
                    <h4>Expected Score</h4>
                    <div id="expected-score"></div>
                </div>
                <div class="stat-card">
                    <h4>Toss Impact</h4>
                    <div id="toss-impact"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Team data with details
        const teamData = {
            "Islamabad United": { code: "IU", color: "#A81D33" },
            "Peshawar Zalmi": { code: "PZ", color: "#FFC700" },
            "Quetta Gladiators": { code: "QG", color: "#4B0082" },
            "Lahore Qalandars": { code: "LQ", color: "#00A651" },
            "Karachi Kings": { code: "KK", color: "#1C3C7C" },
            "Multan Sultans": { code: "MS", color: "#00B5AF" }
        };

        // All PSL 2025 matches
        const allMatches = {
            "Match23": {
                team1: "Quetta Gladiators",
                team2: "Islamabad United",
                date: "2025-05-03",
                time: "8:00 PM",
                venue: "Lahore",
                headToHead: "Match 23: Second encounter in PSL 2025"
            },
            "Match24": {
                team1: "Lahore Qalandars",
                team2: "Karachi Kings",
                date: "2025-05-04",
                time: "8:00 PM",
                venue: "Lahore",
                headToHead: "Match 24: Key match for playoff race"
            },
            "Match25": {
                team1: "Multan Sultans",
                team2: "Peshawar Zalmi",
                date: "2025-05-05",
                time: "8:00 PM",
                venue: "Multan",
                headToHead: "Match 25: Crucial for both teams"
            },
            "Match26": {
                team1: "Islamabad United",
                team2: "Quetta Gladiators",
                date: "2025-05-07",
                time: "8:00 PM",
                venue: "Rawalpindi",
                headToHead: "Match 26: Third encounter this season"
            },
            "Match27": {
                team1: "Peshawar Zalmi",
                team2: "Karachi Kings",
                date: "2025-05-08",
                time: "8:00 PM",
                venue: "Rawalpindi",
                headToHead: "Match 27: Evening encounter"
            },
            "Match28": {
                team1: "Peshawar Zalmi",
                team2: "Lahore Qalandars",
                date: "2025-05-09",
                time: "8:00 PM",
                venue: "Rawalpindi",
                headToHead: "Match 28: Important playoff implications"
            }
        };

        // Get today's date at start of day
        function getTodayStart() {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            return today;
        }

        // Function to get upcoming matches
        function getUpcomingMatches() {
            const today = getTodayStart();
            const upcomingMatches = {};
            
            for (const [key, match] of Object.entries(allMatches)) {
                const matchDate = new Date(match.date);
                if (matchDate >= today) {
                    upcomingMatches[key] = match;
                }
            }
            
            return upcomingMatches;
        }

        // Function to populate match selector
        function populateMatchSelector() {
            const matchSelect = document.getElementById('match-select');
            matchSelect.innerHTML = '<option value="">-- Select a Match --</option>';
            
            const upcomingMatches = getUpcomingMatches();
            for (const [key, match] of Object.entries(upcomingMatches)) {
                const matchDate = new Date(match.date);
                const today = new Date();
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                
                const option = document.createElement('option');
                option.value = key;
                
                // Format date string
                const dateStr = matchDate.toLocaleDateString('en-US', { 
                    month: 'long', 
                    day: 'numeric'
                });
                
                // Add today/tomorrow label
                let timeLabel = '';
                if (matchDate.toDateString() === today.toDateString()) {
                    timeLabel = ' (Today)';
                } else if (matchDate.toDateString() === tomorrow.toDateString()) {
                    timeLabel = ' (Tomorrow)';
                }
                
                option.textContent = `${match.team1} vs ${match.team2} - ${dateStr}${timeLabel}`;
                matchSelect.appendChild(option);
            }
        }

        // Function to show match details
        function showMatchDetails(matchId) {
            const matchDetails = document.getElementById('match-details');
            const weatherSelector = document.getElementById('weather-selector');
            const predictionResult = document.getElementById('prediction-result');

            if (!matchId) {
                matchDetails.style.display = 'none';
                weatherSelector.style.display = 'none';
                predictionResult.style.display = 'none';
                return;
            }

            const match = allMatches[matchId];
            if (!match) return;

            // Update match details
            document.getElementById('match-title').textContent = `${match.team1} vs ${match.team2}`;
            
            const team1Logo = document.getElementById('team1-logo');
            const team2Logo = document.getElementById('team2-logo');
            
            team1Logo.innerHTML = `<img src="logo/${match.team1.replace(' ', '_')}.png" alt="${match.team1}">`;
            team2Logo.innerHTML = `<img src="logo/${match.team2.replace(' ', '_')}.png" alt="${match.team2}">`;
            
            team1Logo.className = 'team-logo';
            team2Logo.className = 'team-logo';
            
            document.getElementById('team1-name').textContent = match.team1;
            document.getElementById('team2-name').textContent = match.team2;
            document.getElementById('match-date').textContent = new Date(match.date).toLocaleDateString('en-US', { 
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            document.getElementById('match-time').textContent = match.time;
            document.getElementById('match-venue').textContent = match.venue;
            document.getElementById('head-to-head').textContent = match.headToHead;

            // Show sections
            matchDetails.style.display = 'block';
            weatherSelector.style.display = 'block';
            predictionResult.style.display = 'none';
        }

        function generatePrediction() {
            const matchId = document.getElementById('match-select').value;
            const weather = document.getElementById('weather').value;
            
            if (!matchId) {
                alert('Please select a match first!');
                return;
            }

            document.getElementById('loading').style.display = 'block';
            document.getElementById('prediction-result').style.display = 'none';

            setTimeout(() => {
                const match = allMatches[matchId];
                const team1 = match.team1;
                const team2 = match.team2;

                // Calculate base probabilities (40-60% range)
                let team1Prob = 40 + Math.random() * 20;
                let team2Prob = 100 - team1Prob;

                // Adjust for weather conditions
                const weatherImpact = {
                    'Clear': 0,
                    'Cloudy': 5,
                    'Light Rain': 8,
                    'Hot and Humid': 3
                }[weather];

                // Randomly give weather advantage to one team
                if (Math.random() > 0.5) {
                    team1Prob += weatherImpact;
                    team2Prob -= weatherImpact;
                } else {
                    team1Prob -= weatherImpact;
                    team2Prob += weatherImpact;
                }

                team1Prob = Math.round(Math.max(35, Math.min(65, team1Prob)));
                team2Prob = 100 - team1Prob;

                const winner = team1Prob > team2Prob ? team1 : team2;
                const keyPlayers = {
                    "Islamabad United": ["Shadab Khan", "Alex Hales", "Faheem Ashraf"],
                    "Lahore Qalandars": ["Shaheen Afridi", "Fakhar Zaman", "Haris Rauf"],
                    "Karachi Kings": ["Babar Azam", "Imad Wasim", "Mohammad Amir"],
                    "Quetta Gladiators": ["Mohammad Hasnain", "Jason Roy", "Mohammad Nawaz"],
                    "Peshawar Zalmi": ["Wahab Riaz", "Shoaib Malik", "Liam Livingstone"],
                    "Multan Sultans": ["Mohammad Rizwan", "Khushdil Shah", "Shahnawaz Dahani"]
                };

                const keyPlayer = keyPlayers[winner][Math.floor(Math.random() * 3)];
                const isClose = Math.abs(team1Prob - team2Prob) < 10;

                // Update prediction text
                document.getElementById('prediction-text').innerHTML = `
                    <strong>${winner} are favored to win${isClose ? ' in a close contest' : ''}</strong><br><br>
                    Our analysis shows a competitive match ahead${isClose ? ', with both teams evenly matched' : 
                    ', with one team having a clear advantage'}.
                `;

                // Update win probabilities
                document.getElementById('win-probability').innerHTML = `
                    ${team1}: ${team1Prob}%<br>
                    ${team2}: ${team2Prob}%
                `;

                // Update key player
                document.getElementById('key-player').textContent = keyPlayer;

                // Update expected score based on conditions
                const baseScore = {
                    'Clear': '170-180',
                    'Cloudy': '160-170',
                    'Light Rain': '150-160',
                    'Hot and Humid': '165-175'
                }[weather];
                document.getElementById('expected-score').textContent = baseScore;

                // Update toss impact
                document.getElementById('toss-impact').textContent = 
                    weather === 'Light Rain' ? "Bowl first advantage due to DLS factor" :
                    weather === 'Hot and Humid' ? "Bat first and set a target" :
                    "Conditions favor chasing";

                // Show Yoda quote
                const yodaQuotes = [
                    "Size matters not. The Force in cricket, strong it is.",
                    "Do or do not. There is no try in this match.",
                    "Difficult to see. Always in motion is the future of cricket.",
                    "Trust in the Force, and good cricket will follow.",
                    "Victory? Victory you say? Master cricket you must, to achieve it."
                ];
                document.getElementById('yoda-quote').textContent = 
                    yodaQuotes[Math.floor(Math.random() * yodaQuotes.length)];

                document.getElementById('loading').style.display = 'none';
                document.getElementById('prediction-result').style.display = 'block';
            }, 2000);
        }

        // Initialize when page loads
        window.onload = function() {
            populateMatchSelector();
            
            // Add event listeners
            document.getElementById('match-select').addEventListener('change', function() {
                showMatchDetails(this.value);
            });
            document.getElementById('predict-btn').addEventListener('click', generatePrediction);
        };
    </script>
</body>
</html>